<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KAPEYAMAHA LIMITED - Toyota Cars, Vehicles & Spare Parts</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        /* Your CSS remains the same */
        .cart-preview { display: none; position: fixed; top: 0; right: 0; width: 100%; max-width: 400px; height: 100vh; background: white; box-shadow: -5px 0 15px rgba(0,0,0,0.1); z-index: 1000; overflow-y: auto; }
        .cart-count { position: absolute; top: -8px; right: -8px; background: #ef4444; color: white; border-radius: 50%; width: 20px; height: 20px; font-size: 12px; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .notification { display: none; position: fixed; top: 20px; right: 20px; padding: 15px 25px; background: #10b981; color: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 9999; animation: slideIn 0.3s ease; }
        .notification.error { background: #ef4444; }
        .notification.warning { background: #f59e0b; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; align-items: center; justify-content: center; }
        .modal-content { background: white; border-radius: 12px; max-height: 90vh; overflow-y: auto; position: relative; }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 28px; cursor: pointer; color: #666; z-index: 10; }
        .close-modal:hover { color: #ef4444; }
        .hero-container { position: relative; width: 100%; height: 100vh; overflow: hidden; }
        .hero-slider { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; background-repeat: no-repeat; opacity: 0; animation: heroSlider 20s infinite; }
        
        /* Updated hero images with working URLs */
        .slide:nth-child(1) { background-image: url('https://images.unsplash.com/photo-1563720223488-8f2f62a6e71a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); animation-delay: 0s; }
        .slide:nth-child(2) { background-image: url('https://images.unsplash.com/photo-1553440569-bcc63803a83d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); animation-delay: 5s; }
        .slide:nth-child(3) { background-image: url('https://images.unsplash.com/photo-1555212697-194d092e3b8f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); animation-delay: 10s; }
        .slide:nth-child(4) { background-image: url('https://images.unsplash.com/photo-1549399542-7e3f8b79c341?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'); animation-delay: 15s; }
        
        @keyframes heroSlider { 0%, 20% { opacity: 1; transform: scale(1); } 25%, 100% { opacity: 0; transform: scale(1.1); } }
        .hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.5)); }
        .hero-content { position: relative; z-index: 2; }
        
        @media (max-width: 768px) {
            .hero-container { height: 80vh; }
            .slide { animation-duration: 24s; }
            .modal-content { width: 95%; margin: 20px; }
            .cart-preview { width: 100%; max-width: 100%; }
            .whatsapp-float { width: 50px; height: 50px; bottom: 20px; right: 20px; font-size: 24px; }
            .whatsapp-float i { margin-top: 13px; }
        }
        
        .hero-container:hover .slide { animation-play-state: paused; }
        .slider-dots { position: absolute; bottom: 30px; left: 0; width: 100%; display: flex; justify-content: center; gap: 10px; z-index: 3; }
        .slider-dot { width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: all 0.3s ease; }
        .slider-dot.active { background: #ef4444; transform: scale(1.2); }
        .spinner { border: 3px solid #f3f3f3; border-top: 3px solid #ef4444; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto; }
        
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .active-nav { color: #ef4444; font-weight: 600; }
        html { scroll-behavior: smooth; }
        
        .whatsapp-float { position: fixed; width: 60px; height: 60px; bottom: 40px; right: 40px; background-color: #25d366; color: #FFF; border-radius: 50px; text-align: center; font-size: 30px; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2); z-index: 100; transition: all 0.3s ease; }
        .whatsapp-float:hover { background-color: #128C7E; transform: scale(1.1); }
        .whatsapp-float i { margin-top: 15px; }
        
        /* FAQ Accordion */
        .faq-item { margin-bottom: 10px; border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden; }
        .faq-question { padding: 16px 20px; background: #f9fafb; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: 600; transition: background 0.3s ease; }
        .faq-question:hover { background: #f3f4f6; }
        .faq-question i { transition: transform 0.3s ease; }
        .faq-question.active i { transform: rotate(180deg); }
        .faq-answer { padding: 0; max-height: 0; overflow: hidden; transition: all 0.3s ease; background: white; }
        .faq-answer.open { padding: 20px; max-height: 500px; }
    </style>
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=AYABQwMlBq4cAQ2gMwWg84K4Ctr5AYq9qJnJcwMfqQOXGqCQrUyY3xVDgE-U6eTmfOXd8q8XMf0BuFpR&currency=USD"></script>
</head>
<body class="font-sans bg-gray-100">
    <!-- Your HTML body remains the same until the JavaScript -->
    
    <!-- Scripts -->
    <script src="https://js.stripe.com/v3/"></script>
    <script>
        // Image Path Fix Function - This will handle broken images
        function fixImagePaths() {
            document.querySelectorAll('img').forEach(img => {
                const originalSrc = img.src || img.getAttribute('src');
                
                // Set a placeholder immediately for local paths
                if (originalSrc && originalSrc.includes('/images/') && !originalSrc.includes('http')) {
                    // Create a placeholder based on category or alt text
                    const altText = img.alt || 'Product Image';
                    const productCard = img.closest('.product-card');
                    const category = productCard ? (productCard.dataset?.category || 'default') : 'default';
                    const colors = {
                        'motorbike': '3B82F6',
                        'car': 'EF4444',
                        'vehicle': '10B981',
                        'engine': 'F59E0B',
                        'brake': '8B5CF6',
                        'electrical': 'F59E0B',
                        'suspension': 'EC4899',
                        'body': '6366F1',
                        'fluid': '14B8A6',
                        'accessory': '6B7280',
                        'default': '6B7280'
                    };
                    
                    const color = colors[category] || colors.default;
                    const text = altText.substring(0, 30).replace(/\s+/g, '+');
                    
                    // Use Unsplash images as placeholders based on category
                    const unsplashUrls = {
                        'motorbike': 'https://images.unsplash.com/photo-1558981403-c5f9899a28bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'car': 'https://images.unsplash.com/photo-1549399542-7e3f8b79c341?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'vehicle': 'https://images.unsplash.com/photo-1580273916550-e323be2ae537?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'engine': 'https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'brake': 'https://images.unsplash.com/photo-1553440569-bcc63803a83d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'electrical': 'https://images.unsplash.com/photo-1566420507426-3fad7d6b6332?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'suspension': 'https://images.unsplash.com/photo-1553440569-bcc63803a83d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'body': 'https://images.unsplash.com/photo-1549399542-7e3f8b79c341?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'fluid': 'https://images.unsplash.com/photo-1566420507426-3fad7d6b6332?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'accessory': 'https://images.unsplash.com/photo-1553440569-bcc63803a83d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80',
                        'default': 'https://images.unsplash.com/photo-1553440569-bcc63803a83d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80'
                    };
                    
                    // Use Unsplash URL for the category, or placeholder
                    img.src = unsplashUrls[category] || unsplashUrls.default;
                }
                
                // Add onerror handler as backup
                img.onerror = function() {
                    const altText = this.alt || 'Product Image';
                    const text = altText.substring(0, 30).replace(/\s+/g, '+');
                    this.src = `https://via.placeholder.com/600x400/333/fff?text=${text}`;
                };
            });
        }

        // FAQ Toggle Function
        function toggleFAQ(element) {
            const faqItem = element.closest('.faq-item');
            const answer = faqItem.querySelector('.faq-answer');
            const icon = element.querySelector('i');
            
            element.classList.toggle('active');
            answer.classList.toggle('open');
            
            // Close other FAQs
            document.querySelectorAll('.faq-item').forEach(item => {
                if (item !== faqItem) {
                    item.querySelector('.faq-question').classList.remove('active');
                    item.querySelector('.faq-answer').classList.remove('open');
                }
            });
        }

        // Products data with working image URLs
        const yamahaBikes = [
            {
                id: "bike-01",
                name: "Yamaha YZF-R1",
                category: "motorbike",
                price: 15999,
                description: "Superbike with 998cc crossplane engine, advanced electronics, and aerodynamic design for track and street.",
                features: ["998cc Engine", "200 HP", "Quick Shifter", "LED Lighting", "TFT Display"],
                image: "https://images.unsplash.com/photo-1558981403-c5f9899a28bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "998cc Liquid-cooled", power: "200 HP", torque: "113 Nm", weight: "201 kg", fuelCapacity: "17L" }
            },
            {
                id: "bike-02",
                name: "Yamaha MT-07",
                category: "motorbike",
                price: 7999,
                description: "Naked bike with 689cc twin-cylinder engine, perfect for city riding and weekend adventures.",
                features: ["689cc CP2 Engine", "75 HP", "Lightweight Chassis", "ABS", "LED Headlight"],
                image: "https://images.unsplash.com/photo-1517846693594-1567da72af75?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "689cc Liquid-cooled", power: "75 HP", torque: "68 Nm", weight: "184 kg", fuelCapacity: "14L" }
            },
            {
                id: "bike-03",
                name: "Yamaha XMAX 300",
                category: "motorbike",
                price: 5499,
                description: "Maxi-scooter with 292cc engine, ample storage, and premium features for urban commuting.",
                features: ["292cc Engine", "Smart Key System", "TCS", "Large Underseat Storage", "LED Lights"],
                image: "https://images.unsplash.com/photo-1509384669928-309ec87b5c4b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "292cc Liquid-cooled", power: "28 HP", torque: "29 Nm", weight: "179 kg", fuelCapacity: "13L" }
            },
            {
                id: "bike-04",
                name: "yamaha Tenere",
                category: "motorbike",
                price: 10999,
                description: "Adventure bike with 689cc CP2 engine, long travel suspension, and rugged design for off-road exploration.",
                features: ["689cc CP2 Engine", "Rally Heritage", "Adventure Ready", "Spoke Wheels", "Adjustable Suspension"],
                image: "https://images.unsplash.com/photo-1558980664-1db506751c6c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "689cc Liquid-cooled", power: "73 HP", torque: "68 Nm", weight: "205 kg", fuelCapacity: "16L" }
            },
            {
                id: "bike-05",
                name: "Yamaha YZF-R3",
                category: "motorbike",
                price: 5299,
                description: "Entry-level sportbike with 321cc twin-cylinder engine, perfect for new riders and track days.",
                features: ["321cc Twin", "Sport Handling", "ABS", "LED Lights", "Lightweight"],
                image: "https://images.unsplash.com/photo-1517846693594-1567da72af75?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "321cc Liquid-cooled", power: "42 HP", torque: "30 Nm", weight: "169 kg", fuelCapacity: "14L" }
            },
            {
                id: "bike-06",
                name: "Yamaha MT-09",
                category: "motorbike",
                price: 9499,
                description: "Hyper Naked with 890cc triple-cylinder engine, aggressive styling, and advanced electronics.",
                features: ["890cc CP3 Engine", "Quick Shifter", "TCS", "LED Lighting", "Multiple Riding Modes"],
                image: "https://images.unsplash.com/photo-1558981403-c5f9899a28bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "890cc Liquid-cooled", power: "119 HP", torque: "93 Nm", weight: "193 kg", fuelCapacity: "14L" }
            }
        ];

        const toyotaCars = [
            {
                id: "car-01",
                name: "Toyota Land Cruiser 300",
                category: "car",
                price: 125000,
                description: "Flagship luxury SUV with 3.5L twin-turbo V6 engine, unmatched off-road capability and premium interior.",
                features: ["3.5L V6 Twin-Turbo", "4WD", "Advanced Safety", "Luxury Interior", "Multi-Terrain Select"],
                image: "https://images.unsplash.com/photo-1549399542-7e3f8b79c341?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "3.5L V6 Twin-Turbo", power: "409 HP", torque: "650 Nm", transmission: "10-Speed Automatic", fuel: "Petrol/Hybrid" }
            },
            {
                id: "car-02",
                name: "Toyota Hilux",
                category: "car",
                price: 45000,
                description: "Legendary pickup truck known for reliability, durability and versatility in all conditions.",
                features: ["2.8L Diesel", "4WD", "Towing Package", "Rugged Design", "Advanced Safety"],
                image: "https://images.unsplash.com/photo-1563720223488-8f2f62a6e71a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "2.8L Turbo Diesel", power: "204 HP", torque: "500 Nm", transmission: "6-Speed Automatic", fuel: "Diesel" }
            },
            {
                id: "car-03",
                name: "Toyota RAV4",
                category: "car",
                price: 32000,
                description: "Compact SUV with hybrid option, spacious interior, and advanced safety features for family adventures.",
                features: ["Hybrid Available", "AWD", "Toyota Safety Sense", "Spacious Cabin", "Apple CarPlay/Android Auto"],
                image: "https://images.unsplash.com/photo-1553440569-bcc63803a83d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "2.5L Hybrid/2.5L Petrol", power: "219 HP (Hybrid)", torque: "221 Nm", transmission: "8-Speed CVT", fuel: "Petrol/Hybrid" }
            },
            {
                id: "car-04",
                name: "Toyota Corolla",
                category: "car",
                price: 23000,
                description: "World's best-selling sedan with hybrid efficiency, modern design, and comprehensive safety features.",
                features: ["Hybrid Efficiency", "Safety Sense", "Modern Design", "Comfortable Ride", "Good Fuel Economy"],
                image: "https://images.unsplash.com/photo-1553440569-bcc63803a83d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "2.0L Hybrid/1.8L Petrol", power: "169 HP", torque: "205 Nm", transmission: "CVT", fuel: "Petrol/Hybrid" }
            },
            {
                id: "car-05",
                name: "Toyota Landcruiser Prado",
                category: "car",
                price: 85000,
                description: "Premium mid-size SUV with excellent off-road capability and luxurious comfort for long journeys.",
                features: ["4.0L V6/2.8L Diesel", "Full-Time 4WD", "KDSS Suspension", "Premium Interior", "Multi-Terrain Monitor"],
                image: "https://images.unsplash.com/photo-1549399542-7e3f8b79c341?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "4.0L V6/2.8L Diesel", power: "271 HP (V6)", torque: "381 Nm", transmission: "6-Speed Automatic", fuel: "Petrol/Diesel" }
            },
            {
                id: "car-06",
                name: "Toyota Fortuner",
                category: "car",
                price: 55000,
                description: "Rugged 7-seat SUV built on Hilux platform, offering durability, space and off-road capability.",
                features: ["2.8L Diesel", "4WD/2WD Options", "7-Seater", "Tough Build", "Advanced Infotainment"],
                image: "https://images.unsplash.com/photo-1563720223488-8f2f62a6e71a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
                specs: { engine: "2.8L Turbo Diesel", power: "204 HP", torque: "500 Nm", transmission: "6-Speed Automatic", fuel: "Diesel" }
            }
        ];

        // Continue with the rest of your JavaScript...
        // (The rest of your JavaScript code remains the same)
        
        // Initialize the website
        document.addEventListener('DOMContentLoaded', function() {
            loadCart();
            displayYamahaBikes();
            displayToyotaCars();
            displayCommercialVehicles();
            displaySpareParts();
            displayFeaturedParts();
            
            // Fix images immediately
            fixImagePaths();
            
            // ... rest of your initialization code
        });
    </script>
    
    <!-- Your HTML body content here (truncated for brevity) -->
</body>
</html>
